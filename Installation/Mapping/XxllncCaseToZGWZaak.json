{
    "title": "XxllncCaseToZGWZaak",
    "$id": "https://development.zaaksysteem.nl/mapping/xxllnc.XxllncCaseToZGWZaak.mapping.json",
    "$schema": "https://docs.commongateway.nl/schemas/Mapping.schema.json",
    "version": "0.0.2",
    "passTrough": false,
    "mapping": {
        "identificatie": "reference",
        "omschrijving": "instance.subject",
        "toelichting": "instance.subject_external",
        "registratiedatum": "instance.date_of_registration",
        "startdatum": "instance.date_of_registration",
        "einddatum": "instance.date_of_completion",
        "einddatumGepland": "instance.date_target",
        "publicatiedatum": "instance.date_target",
        "communicatiekanaal": "instance.channel_of_contact",
        "vertrouwelijkheidaanduidng": "instance.confidentiality.mapped",
        "kenmerken.0.kenmerk": "reference",
        "kenmerken.0.bron": "xxllnc v1 api",
        "betalingsindicatie": "{% if instance.price == '-' %}{{ 'nvt' }}{% elseif instance.payment_status is null or instance.payment_status == '' %}{{ 'nog_niet' }}{% else %}{{ 'geheel' }}{% endif %}",
        "betalingsindicatieWeergave": "{% if instance.price == '-' %}{{ 'Zaak kent geen prijs' }}{% elseif instance.payment_status is null or instance.payment_status == '' %}{{ 'Er moet nog betaald worden' }}{% else %}{{ 'De volledige kosten zijn betaald' }}{% endif %}",
        "resultaattoelichting": "{% if instance.outcome.instance.name|default %}{{ instance.outcome.instance.name }}{% endif %}",
        "resultaat": "{% if instance.outcome|default %}{% set data = {'outcome': instance.outcome, 'resultaattypen': zaaktype.resultaattypen} %}{{ map('https://development.zaaksysteem.nl/mapping/xxllnc.XxllncOutcomeToResultaat.mapping.json', data)|json_encode }}{% endif %}",
        "rollen": "[{% if instance.route.instance.role|default %}{% set dataRol = {'requestor': instance.requestor, 'role': instance.route.instance.role, 'roltypen': zaaktype.roltypen} %}{{ map('https://development.zaaksysteem.nl/mapping/xxllnc.XxllncRoleRequestorToRol.mapping.json', dataRol)|json_encode }}{% endif %}]",
        "status": "{% if instance.milestone|default %}{% set data = {'milestone': instance.milestone, 'statustypen': zaaktype.statustypen} %}{{ map('https://development.zaaksysteem.nl/mapping/xxllnc.XxllncMilestoneToStatus.mapping.json', data)|json_encode }}{% endif %}",
        "zaaktype": "{% if zaaktype['_self']['id']|default %}{{ zaaktype['_self']['id'] }}{% endif %}",
        "eigenschappen": "[{% set index=0 %}{% if zaaktype.eigenschappen|default %}{% for key, attribute in instance.attributes %}{% if index != 0 %},{% endif %}{% set data = {'name': key, 'value': attribute, 'eigenschappen': zaaktype.eigenschappen} %}{% if attribute[0][0]|default and attribute[0][0] is iterable %}{{ attribute|json_encode }}{% else %}{{ map('https://development.zaaksysteem.nl/mapping/xxllnc.XxllncValueToZaakEigenschap.mapping.json', data)|json_encode }}{% endif %}{% set index=index+1 %}{% endfor %}{% endif %}]",
        "_sourceId": "reference",
        "bronorganisatie": "bronorganisatie",
        "verantwoordelijkeOrganisatie": "bronorganisatie",
        "opschorting.indicatie": "{% if instance.stalled_until|default %}true{% else %}{% endif %}",
        "opschorting.reden": "{% if instance.stalled_until|default %}Unknown{% endif %}"
    },
    "unset": {},
    "cast": {
        "resultaat": "jsonToArray",
        "rollen": "jsonToArray",
        "status": "jsonToArray",
        "eigenschappen": "jsonToArray",
        "opschorting.indicatie": "unsetIfValue==",
        "opschorting.reden": "unsetIfValue==",
        "opschorting": "unsetIfValue=="
    }
}
  